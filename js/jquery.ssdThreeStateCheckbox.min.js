/*
 * ssdThreeStateCheckbox jQuery plugin
 * Examples and documentation at: https://github.com/sebastiansulinski/three-state-checkbox
 * Copyright (c) 2015 Sebastian Sulinski
 * Version: 1.0.0 (02-MAR-2015)
 * Licensed under the MIT.
 * Requires: jQuery v1.9 or later
 */
!function(t){t.fn.ssdThreeStateCheckbox=function(a){"use strict";function e(a){var e="[data-";e+=u.dataGroupButton,e+='="',e+=a,e+='"].',e+=u.classButton,t(e).each(function(){t(this).removeClass("disabled"),t(this).is(":input")&&t(this).prop("disabled",!1)})}function c(a){var e="[data-";e+=u.dataGroupButton,e+='="',e+=a,e+='"].',e+=u.classButton,t(e).each(function(){t(this).addClass("disabled"),t(this).is(":input")&&t(this).prop("disabled",!0)})}function r(t){var a=t.filter(":checked");return a.length===t.length}function o(t){var a=t.filter(":not(:checked)");return a.length===t.length}function n(a){return t("input[data-"+u.dataGroupMaster+'="'+a+'"].'+u.classMaster)}function s(a){return t("input[data-"+u.dataGroupRecord+'="'+a+'"].'+u.classRecord)}function d(a){return t("input:checked[data-"+u.dataGroupRecord+'="'+a+'"].'+u.classRecord)}function i(a){var e=t.Deferred(),c=d(a),r=[];return c.each(function(a){r.push(t(this).data(u.dataGroupRecordId)),parseInt(a+1,10)==c.length&&e.resolve(r)}),e.promise()}var u=t.extend({classButton:"checkboxButton",classMaster:"checkboxMaster",classRecord:"checkboxRecord",dataGroupButton:"group-button",dataGroupMaster:"group-master",dataGroupRecord:"group-record",dataGroupRecordId:"id",clickCallback:function(t){console.log("clickCallback method call : collected ["+t+"]")}},a);return this.each(function(){t(this).on("click","."+u.classMaster,function(){var a=t(this),r=a.data(u.dataGroupMaster),o=s(r);a.is(":checked")?(o.prop("checked",!0),e(r)):(o.prop("checked",!1),c(r))}),t(this).on("click","."+u.classRecord,function(){var a=t(this),d=a.data(u.dataGroupRecord),i=s(d),l=n(d);o(i)?(l.prop("indeterminate",!1),l.prop("checked",!1),c(d)):r(i)?(l.prop("indeterminate",!1),l.prop("checked",!0),e(d)):(l.prop("indeterminate",!0),e(d))}),t(this).on("click","."+u.classButton,function(a){if(a.preventDefault(),!t(this).hasClass("disabled")){var e=t(this),c=e.data(u.dataGroupButton);t.when(i(c)).done(function(t){u.clickCallback(t,e)})}})})}}(jQuery);