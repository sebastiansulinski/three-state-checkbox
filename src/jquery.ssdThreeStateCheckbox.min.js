/*!
 * ssdThreeStateCheckbox (https://github.com/sebastiansulinski/three-state-checkbox)
 * Copyright 2015 Sebastian Sulinski. (https://github.com/sebastiansulinski)
 * Licensed under MIT (https://github.com/sebastiansulinski/three-state-checkbox/blob/master/LICENSE)
 */
!function(t){t.fn.ssdThreeStateCheckbox=function(a){"use strict";function e(t){return""===t||"undefined"==typeof t}function n(a){var e="[data-";e+=l.dataGroupButton,e+='="',e+=a,e+='"].',e+=l.classButton,t(e).each(function(){t(this).removeClass("disabled"),t(this).is(":input")&&t(this).prop("disabled",!1)})}function r(a){var e="[data-";e+=l.dataGroupButton,e+='="',e+=a,e+='"].',e+=l.classButton,t(e).each(function(){t(this).addClass("disabled"),t(this).is(":input")&&t(this).prop("disabled",!0)})}function c(t){var a=t.filter(":checked");return a.length===t.length}function o(t){var a=t.filter(":not(:checked)");return a.length===t.length}function s(a){return t("input[data-"+l.dataGroupMaster+'="'+a+'"].'+l.classMaster)}function d(a){return t("input[data-"+l.dataGroupRecord+'="'+a+'"].'+l.classRecord)}function i(a){return t("input:checked[data-"+l.dataGroupRecord+'="'+a+'"].'+l.classRecord)}function u(a){var e=t.Deferred(),n=i(a),r=[];return n.each(function(a){r.push(t(this).data(l.dataGroupRecordId)),parseInt(a+1,10)==n.length&&e.resolve(r)}),e.promise()}var l=t.extend({classButton:"checkboxButton",classMaster:"checkboxMaster",classRecord:"checkboxRecord",dataButtonUrl:"url",dataGroupButton:"group-button",dataGroupMaster:"group-master",dataGroupRecord:"group-record",dataGroupRecordId:"id",clickCallback:function(t){console.log("clickCallback() method has been called with the following collection and the trigger instance as arguments ["+t+"]")}},a);return this.each(function(){t(this).on("click","."+l.classMaster,function(){var a=t(this),e=a.data(l.dataGroupMaster),c=d(e);a.is(":checked")?(c.prop("checked",!0),n(e)):(c.prop("checked",!1),r(e))}),t(this).on("click","."+l.classRecord,function(){var a=t(this),e=a.data(l.dataGroupRecord),i=d(e),u=s(e);o(i)?(u.prop("indeterminate",!1),u.prop("checked",!1),r(e)):c(i)?(u.prop("indeterminate",!1),u.prop("checked",!0),n(e)):(u.prop("indeterminate",!0),n(e))}),t(this).on("click","."+l.classButton,function(a){if(a.preventDefault(),!t(this).hasClass("disabled")){var n=t(this),r=n.data(l.dataGroupButton),c=n.data(l.dataButtonUrl);e(c)||t.when(u(r)).done(function(t){l.clickCallback(t,n)})}})})}}(jQuery);